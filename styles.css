body {
    background-color: transparent;
    margin: 0; /* Remove default body margin */
    overflow: hidden; /* Hide scrollbars */
}

#content-root {
    position: absolute;
    inset: 0;
    opacity: 1;
    isolation: isolate; /* keep composition isolated to this subtree */
}

#ui-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0); /* More translucent background */
    color: white;
    padding: 8px;
    z-index: 1000; /* Ensure it's on top */
    visibility: hidden;/* Initially hidden */
    box-sizing: border-box; /* Include padding in width */
    display: flex; /* Use flexbox for better layout control */
    align-items: center; /* Center items vertically */
    flex-wrap: nowrap; /* Keep all items on one line */
    -webkit-app-region: drag; /* Allow dragging from empty parts */
}

#ui-container * {
    -webkit-app-region: no-drag; /* Keep controls interactive */
}

#url-input {
    width: calc(100% - 350px); /* Reduce width to make room for buttons */
    padding: 4px 8px;
    border: none; /* Remove border */
    border-radius: 4px;
    margin-right: 8px;
    background-color: rgba(255, 255, 255, 0.0); /* Slightly transparent white */
    color: white;
    flex-shrink: 1; /* Allow input to shrink if needed */
    outline: none; /* Remove the focus outline */
}

/* Create a specific style for focus state */
#url-input:focus {
    outline: none; /* Remove outline on focus */
    border: none; /* Ensure no border on focus */
    /* box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.2); Optional: subtle glow instead of border */
}

#ui-container button {
    padding: 4px 8px;
    border: none;
    border-radius: 4px;
    background-color: rgba(68, 68, 68, 0.0); /* More translucent buttons */
    color: rgba(255, 255, 255, 0.75); /* Slightly dimmed text */
    margin-right: 4px;
    cursor: pointer;
    font-size: 0.85rem; /* Slightly smaller font */
    min-width: 30px; /* Ensure buttons don't get too narrow */
    flex-shrink: 0; /* Don't allow buttons to shrink */
}

#ui-container button:hover {
    background-color: rgba(85, 85, 85, 0); /* More opaque on hover */
    color: rgba(255, 255, 255, 0.9);
}

#content-frame {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none; /* Remove iframe border */
    z-index: 2;
    /* contain: paint;  Removed to avoid stale invalidation during canvas pans */
}

/* Invisible drag region at the very top when UI is hidden */
#drag-region {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 24px;
    -webkit-app-region: drag;
    z-index: 10;
}

/* Backdrop tint behind content */
#backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0); /* default transparent */
    z-index: 1; /* below content */
    pointer-events: none;
}

/* Resize overlay and handles */
#resize-overlay {
    position: absolute;
    inset: 0;
    z-index: 999; /* Above iframe, below UI */
    pointer-events: none; /* Only handles receive events */
}

.resize-handle {
    position: absolute;
    pointer-events: auto;
    -webkit-app-region: no-drag;
}

.resize-handle.edge.top { top: -2px; left: 8px; right: 8px; height: 6px; cursor: ns-resize; }
.resize-handle.edge.bottom { bottom: -2px; left: 8px; right: 8px; height: 6px; cursor: ns-resize; }
.resize-handle.edge.left { left: -2px; top: 8px; bottom: 8px; width: 6px; cursor: ew-resize; }
.resize-handle.edge.right { right: -2px; top: 8px; bottom: 8px; width: 6px; cursor: ew-resize; }

.resize-handle.corner { width: 14px; height: 14px; }
.resize-handle.corner.top-left { top: -2px; left: -2px; cursor: nwse-resize; }
.resize-handle.corner.top-right { top: -2px; right: -2px; cursor: nesw-resize; }
.resize-handle.corner.bottom-right { bottom: -2px; right: -2px; cursor: nwse-resize; }
.resize-handle.corner.bottom-left { bottom: -2px; left: -2px; cursor: nesw-resize; }

/* Optional: visible when hovering near edges for affordance */
.resize-handle:hover {
    /* Ultra subtle glow for discoverability */
    box-shadow: 0 0 0 1px rgba(255,255,255,0.06);
}

/* Drag-and-drop overlay */
#drop-overlay {
    position: absolute;
    inset: 0;
    display: none;
    z-index: 1500; /* Above UI */
    background: rgba(255,255,255,0.06);
    border: 2px dashed rgba(255,255,255,0.25);
    box-shadow: inset 0 0 0 1px rgba(0,0,0,0.12);
    pointer-events: none; /* toggled to auto when active */
}

#drop-overlay.active {
    display: block;
    pointer-events: auto;
}

#drop-overlay .drop-hint {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    color: rgba(255,255,255,0.9);
    font-family: -apple-system, system-ui, 'Segoe UI', Roboto, Helvetica, Arial;
    font-size: 14px;
    background: rgba(0,0,0,0.25);
    padding: 8px 12px;
    border-radius: 12px;
}

/* Frame flash overlay */
#frame-flash {
    position: absolute;
    inset: 0;
    border: 2px solid rgba(255,255,255,0.8);
    border-radius: 8px;
    pointer-events: none;
    opacity: 0;
    z-index: 1600;
    transition: opacity 0.12s ease;
}

#frame-flash.active {
    opacity: 1;
}
